import{f as ae,_ as Fe,a as he,u as Te}from"./D8NkctY6.js";import{i as Re,p as Ce,F as X,t as Pe,g as de,r as P,w as ne,c as h,s as Oe,o as pe,n as Le,d as E,C as je,m as O,a as He,h as Y,b as se,e as ze,f as M,j as A,k as V,l as F,u as i,q as I,v as me,x as ce,y as ve,z as fe,A as Ue,B as We,D as Ye,E as B,G as z,H as Q,I as C,J as x,K as Z,_ as j,L as te,M as G,N as Qe,O as Ge,P as Xe,Q as Je,R as ee}from"./DdJQQGRa.js";import $e from"./BYefydKq.js";function Ee(t,e=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY){return Math.min(a,Math.max(e,t))}function be(t,e){const a=typeof t=="string"&&!e?`${t}Context`:e,l=Symbol(a);return[r=>{const s=Re(l,r);if(s||s===null)return s;throw new Error(`Injection \`${l.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},r=>(Ce(l,r),r)]}function De(t){return t?t.flatMap(e=>e.type===X?De(e.children):[e]):[]}const[Ze,Aa]=be("ConfigProvider");typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const et=t=>typeof t<"u",tt=Pe;function re(t){var e;const a=Pe(t);return(e=a?.$el)!=null?e:a}function at(){const t=Oe(!1),e=de();return e&&pe(()=>{t.value=!0},e),t}function nt(t){return JSON.parse(JSON.stringify(t))}function rt(t,e,a,l={}){var n,o,r;const{clone:s=!1,passive:m=!1,eventName:p,deep:d=!1,defaultValue:b,shouldEmit:g}=l,v=de(),S=a||v?.emit||((n=v?.$emit)==null?void 0:n.bind(v))||((r=(o=v?.proxy)==null?void 0:o.$emit)==null?void 0:r.bind(v?.proxy));let f=p;f=f||`update:${e.toString()}`;const _=u=>s?typeof s=="function"?s(u):nt(u):u,w=()=>et(t[e])?_(t[e]):b,c=u=>{g?g(u)&&S(f,u):S(f,u)};if(m){const u=w(),y=P(u);let $=!1;return ne(()=>t[e],D=>{$||($=!0,y.value=_(D),Le(()=>$=!1))}),ne(y,D=>{!$&&(D!==t[e]||d)&&c(D)},{deep:d}),y}else return h({get(){return w()},set(u){c(u)}})}function lt(t){const e=Ze({dir:P("ltr")});return h(()=>t?.value||e.dir?.value||"ltr")}function ot(t){return h(()=>tt(t)?!!re(t)?.closest("form"):!0)}function H(){const t=de(),e=P(),a=h(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:re(e)),l=Object.assign({},t.exposed),n={};for(const r in t.props)Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>t.props[r]});if(Object.keys(l).length>0)for(const r in l)Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>l[r]});Object.defineProperty(n,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=n;function o(r){e.value=r,r&&(Object.defineProperty(n,"$el",{enumerable:!0,configurable:!0,get:()=>r instanceof Element?r:r.$el}),t.exposed=n)}return{forwardRef:o,currentRef:e,currentElement:a}}function st(t){const e=P(),a=h(()=>e.value?.width??0),l=h(()=>e.value?.height??0);return pe(()=>{const n=re(t);if(n){e.value={width:n.offsetWidth,height:n.offsetHeight};const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let m,p;if("borderBoxSize"in s){const d=s.borderBoxSize,b=Array.isArray(d)?d[0]:d;m=b.inlineSize,p=b.blockSize}else m=n.offsetWidth,p=n.offsetHeight;e.value={width:m,height:p}});return o.observe(n,{box:"border-box"}),()=>o.unobserve(n)}else e.value=void 0}),{width:a,height:l}}const ie=E({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:a}){return()=>{if(!a.default)return null;const l=De(a.default()),n=l.findIndex(m=>m.type!==je);if(n===-1)return l;const o=l[n];delete o.props?.ref;const r=o.props?O(e,o.props):e,s=He({...o,props:{}},r);return l.length===1?s:(l[n]=s,l)}}}),it=["area","img","input"],J=E({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:a}){const l=t.asChild?"template":t.as;return typeof l=="string"&&it.includes(l)?()=>Y(l,e):l!=="template"?()=>Y(t.as,e,{default:a.default}):()=>Y(ie,e,{default:a.default})}});function ue(){const t=P(),e=h(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:re(t));return{primitiveElement:t,currentElement:e}}const Se="data-reka-collection-item";function ye(t={}){const{key:e="",isProvider:a=!1}=t,l=`${e}CollectionProvider`;let n;if(a){const d=P(new Map);n={collectionRef:P(),itemMap:d},Ce(l,n)}else n=Re(l);const o=(d=!1)=>{const b=n.collectionRef.value;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${Se}]`)),S=Array.from(n.itemMap.value.values()).sort((f,_)=>g.indexOf(f.ref)-g.indexOf(_.ref));return d?S:S.filter(f=>f.ref.dataset.disabled!=="")},r=E({name:"CollectionSlot",setup(d,{slots:b}){const{primitiveElement:g,currentElement:v}=ue();return ne(v,()=>{n.collectionRef.value=v.value}),()=>Y(ie,{ref:g},b)}}),s=E({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(d,{slots:b,attrs:g}){const{primitiveElement:v,currentElement:S}=ue();return se(f=>{if(S.value){const _=ze(S.value);n.itemMap.value.set(_,{ref:S.value,value:d.value}),f(()=>n.itemMap.value.delete(_))}}),()=>Y(ie,{...g,[Se]:"",ref:v},b)}}),m=h(()=>Array.from(n.itemMap.value.values())),p=h(()=>n.itemMap.value.size);return{getItems:o,reactiveItems:m,itemMapSize:p,CollectionSlot:r,CollectionItem:s}}var ut=E({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,a)=>(A(),M(i(J),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:V(()=>[F(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),dt=ut,pt=E({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:a,currentElement:l}=ue(),n=h(()=>e.checked??e.value);return ne(n,(o,r)=>{if(!l.value)return;const s=l.value,m=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(m,"value").set;if(d&&o!==r){const b=new Event("input",{bubbles:!0}),g=new Event("change",{bubbles:!0});d.call(s,o),s.dispatchEvent(b),s.dispatchEvent(g)}}),(o,r)=>(A(),M(dt,O({ref_key:"primitiveElement",ref:a},{...e,...o.$attrs},{as:"input"}),null,16))}}),Ae=pt,mt=E({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,a=h(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),l=h(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((n,o)=>typeof n=="object"?Object.entries(n).map(([r,s])=>({name:`${e.name}[${o}][${r}]`,value:s})):{name:`${e.name}[${o}]`,value:n}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([n,o])=>({name:`${e.name}[${n}]`,value:o})):[]);return(n,o)=>(A(),I(X,null,[me(" We render single input if it's required "),a.value?(A(),M(Ae,O({key:n.name},{...e,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(A(!0),I(X,{key:1},ce(l.value,r=>(A(),M(Ae,O({key:r.name},{ref_for:!0},{...e,...n.$attrs},{name:r.name,value:r.value}),null,16,["name","value"]))),128))],2112))}}),ct=mt;function vt(t=[],e,a){const l=[...t];return l[a]=e,l.sort((n,o)=>n-o)}function qe(t,e,a){const o=100/(a-e)*(t-e);return Ee(o,0,100)}function ft(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function bt(t,e){if(t.length===1)return 0;const a=t.map(n=>Math.abs(n-e)),l=Math.min(...a);return a.indexOf(l)}function yt(t,e,a){const l=t/2,o=ge([0,50],[0,l]);return(l-o(e)*a)*a}function gt(t){return t.slice(0,-1).map((e,a)=>t[a+1]-e)}function _t(t,e){if(e>0){const a=gt(t);return Math.min(...a)>=e}return!0}function ge(t,e){return a=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const l=(e[1]-e[0])/(t[1]-t[0]);return e[0]+l*(a-t[0])}}function ht(t){return(String(t).split(".")[1]||"").length}function St(t,e){const a=10**e;return Math.round(t*a)/a}const Be=["PageUp","PageDown"],ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[Ie,Ve]=be(["SliderVertical","SliderHorizontal"]);var At=E({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const a=t,l=e,{max:n,min:o,dir:r,inverted:s}=ve(a),{forwardRef:m,currentElement:p}=H(),d=U(),b=P(),g=P(),v=h(()=>r?.value!=="rtl"&&!s.value||r?.value!=="ltr"&&s.value);function S(c,u){const y=g.value||p.value.getBoundingClientRect(),$=[...d.thumbElements.value][d.valueIndexToChangeRef.value],D=d.thumbAlignment.value==="contain"?$.clientWidth:0;!b.value&&!u&&d.thumbAlignment.value==="contain"&&(b.value=c.clientX-$.getBoundingClientRect().left);const k=[0,y.width-D],N=v.value?[o.value,n.value]:[n.value,o.value],T=ge(k,N);g.value=y;const R=u?c.clientX-y.left-D/2:c.clientX-y.left-(b.value??0);return T(R)}const f=h(()=>v.value?"left":"right"),_=h(()=>v.value?"right":"left"),w=h(()=>v.value?1:-1);return Ve({startEdge:f,endEdge:_,direction:w,size:"width"}),(c,u)=>(A(),M(Ke,{ref:i(m),dir:i(r),"data-orientation":"horizontal",style:fe({"--reka-slider-thumb-transform":!v.value&&i(d).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:u[0]||(u[0]=y=>{const $=S(y,!0);l("slideStart",$)}),onSlideMove:u[1]||(u[1]=y=>{const $=S(y);l("slideMove",$)}),onSlideEnd:u[2]||(u[2]=()=>{g.value=void 0,b.value=void 0,l("slideEnd")}),onStepKeyDown:u[3]||(u[3]=y=>{const $=v.value?"from-left":"from-right",D=i(Me)[$].includes(y.key);l("stepKeyDown",y,D?-1:1)}),onEndKeyDown:u[4]||(u[4]=y=>l("endKeyDown",y)),onHomeKeyDown:u[5]||(u[5]=y=>l("homeKeyDown",y))},{default:V(()=>[F(c.$slots,"default")]),_:3},8,["dir","style"]))}}),wt=At,Rt=E({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const a=t,l=e,{max:n,min:o,inverted:r}=ve(a),s=U(),{forwardRef:m,currentElement:p}=H(),d=P(),b=P(),g=h(()=>!r.value);function v(w,c){const u=b.value||p.value.getBoundingClientRect(),y=[...s.thumbElements.value][s.valueIndexToChangeRef.value],$=s.thumbAlignment.value==="contain"?y.clientHeight:0;!d.value&&!c&&s.thumbAlignment.value==="contain"&&(d.value=w.clientY-y.getBoundingClientRect().top);const D=[0,u.height-$],k=g.value?[n.value,o.value]:[o.value,n.value],N=ge(D,k),T=c?w.clientY-u.top-$/2:w.clientY-u.top-(d.value??0);return b.value=u,N(T)}const S=h(()=>g.value?"bottom":"top"),f=h(()=>g.value?"top":"bottom"),_=h(()=>g.value?1:-1);return Ve({startEdge:S,endEdge:f,direction:_,size:"height"}),(w,c)=>(A(),M(Ke,{ref:i(m),"data-orientation":"vertical",style:fe({"--reka-slider-thumb-transform":!g.value&&i(s).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:c[0]||(c[0]=u=>{const y=v(u,!0);l("slideStart",y)}),onSlideMove:c[1]||(c[1]=u=>{const y=v(u);l("slideMove",y)}),onSlideEnd:c[2]||(c[2]=()=>{b.value=void 0,d.value=void 0,l("slideEnd")}),onStepKeyDown:c[3]||(c[3]=u=>{const y=g.value?"from-bottom":"from-top",$=i(Me)[y].includes(u.key);l("stepKeyDown",u,$?-1:1)}),onEndKeyDown:c[4]||(c[4]=u=>l("endKeyDown",u)),onHomeKeyDown:c[5]||(c[5]=u=>l("homeKeyDown",u))},{default:V(()=>[F(w.$slots,"default")]),_:3},8,["style"]))}}),Ct=Rt;const[U,Pt]=be("SliderRoot");var $t=E({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const a=t,l=e,{min:n,max:o,step:r,minStepsBetweenThumbs:s,orientation:m,disabled:p,thumbAlignment:d,dir:b}=ve(a),g=lt(b),{forwardRef:v,currentElement:S}=H(),f=ot(S),{CollectionSlot:_}=ye({isProvider:!0}),w=rt(a,"modelValue",l,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),c=h(()=>Array.isArray(w.value)?[...w.value]:[]),u=P(0),y=P(c.value);function $(R){const q=bt(c.value,R);N(R,q)}function D(R){N(R,u.value)}function k(){const R=y.value[u.value];c.value[u.value]!==R&&l("valueCommit",We(c.value))}function N(R,q,{commit:K}={commit:!1}){const le=ht(r.value),_e=St(Math.round((R-n.value)/r.value)*r.value+n.value,le),oe=Ee(_e,n.value,o.value),L=vt(c.value,oe,q);if(_t(L,s.value*r.value)){u.value=L.indexOf(oe);const W=String(L)!==String(w.value);W&&K&&l("valueCommit",L),W&&(T.value[u.value]?.focus(),w.value=L)}}const T=P([]);return Pt({modelValue:w,currentModelValue:c,valueIndexToChangeRef:u,thumbElements:T,orientation:m,min:n,max:o,disabled:p,thumbAlignment:d}),(R,q)=>(A(),M(i(_),null,{default:V(()=>[(A(),M(Ue(i(m)==="horizontal"?wt:Ct),O(R.$attrs,{ref:i(v),"as-child":R.asChild,as:R.as,min:i(n),max:i(o),dir:i(g),inverted:R.inverted,"aria-disabled":i(p),"data-disabled":i(p)?"":void 0,onPointerdown:q[0]||(q[0]=()=>{i(p)||(y.value=c.value)}),onSlideStart:q[1]||(q[1]=K=>!i(p)&&$(K)),onSlideMove:q[2]||(q[2]=K=>!i(p)&&D(K)),onSlideEnd:q[3]||(q[3]=K=>!i(p)&&k()),onHomeKeyDown:q[4]||(q[4]=K=>!i(p)&&N(i(n),0,{commit:!0})),onEndKeyDown:q[5]||(q[5]=K=>!i(p)&&N(i(o),c.value.length-1,{commit:!0})),onStepKeyDown:q[6]||(q[6]=(K,le)=>{if(!i(p)){const L=i(Be).includes(K.key)||K.shiftKey&&i(ke).includes(K.key)?10:1,W=u.value,Ne=c.value[W],xe=i(r)*L*le;N(Ne+xe,W,{commit:!0})}})}),{default:V(()=>[F(R.$slots,"default",{modelValue:i(w)}),i(f)&&R.name?(A(),M(i(ct),{key:0,type:"number",value:i(w),name:R.name,required:R.required,disabled:i(p),step:i(r)},null,8,["value","name","required","disabled","step"])):me("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),Et=$t,Dt=E({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const a=t,l=e,n=U();return(o,r)=>(A(),M(i(J),O({"data-slider-impl":""},a,{onKeydown:r[0]||(r[0]=s=>{s.key==="Home"?(l("homeKeyDown",s),s.preventDefault()):s.key==="End"?(l("endKeyDown",s),s.preventDefault()):i(Be).concat(i(ke)).includes(s.key)&&(l("stepKeyDown",s),s.preventDefault())}),onPointerdown:r[1]||(r[1]=s=>{const m=s.target;m.setPointerCapture(s.pointerId),s.preventDefault(),i(n).thumbElements.value.includes(m)?m.focus():l("slideStart",s)}),onPointermove:r[2]||(r[2]=s=>{s.target.hasPointerCapture(s.pointerId)&&l("slideMove",s)}),onPointerup:r[3]||(r[3]=s=>{const m=s.target;m.hasPointerCapture(s.pointerId)&&(m.releasePointerCapture(s.pointerId),l("slideEnd",s))})}),{default:V(()=>[F(o.$slots,"default")]),_:3},16))}}),Ke=Dt,qt=E({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=U(),a=Ie();H();const l=h(()=>e.currentModelValue.value.map(r=>qe(r,e.min.value,e.max.value))),n=h(()=>e.currentModelValue.value.length>1?Math.min(...l.value):0),o=h(()=>100-Math.max(...l.value,0));return(r,s)=>(A(),M(i(J),{"data-disabled":i(e).disabled.value?"":void 0,"data-orientation":i(e).orientation.value,"as-child":r.asChild,as:r.as,style:fe({[i(a).startEdge.value]:`${n.value}%`,[i(a).endEdge.value]:`${o.value}%`})},{default:V(()=>[F(r.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Bt=qt,kt=E({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,a=U(),l=Ie(),{forwardRef:n,currentElement:o}=H(),{CollectionItem:r}=ye(),s=h(()=>a.modelValue?.value?.[e.index]),m=h(()=>s.value===void 0?0:qe(s.value,a.min.value??0,a.max.value??100)),p=h(()=>ft(e.index,a.modelValue?.value?.length??0)),d=st(o),b=h(()=>d[l.size].value),g=h(()=>a.thumbAlignment.value==="overflow"||!b.value?0:yt(b.value,m.value,l.direction.value)),v=at();return pe(()=>{a.thumbElements.value.push(o.value)}),Ye(()=>{const S=a.thumbElements.value.findIndex(f=>f===o.value)??-1;a.thumbElements.value.splice(S,1)}),(S,f)=>(A(),M(i(r),null,{default:V(()=>[B(i(J),O(S.$attrs,{ref:i(n),role:"slider",tabindex:i(a).disabled.value?void 0:0,"aria-label":S.$attrs["aria-label"]||p.value,"data-disabled":i(a).disabled.value?"":void 0,"data-orientation":i(a).orientation.value,"aria-valuenow":s.value,"aria-valuemin":i(a).min.value,"aria-valuemax":i(a).max.value,"aria-orientation":i(a).orientation.value,"as-child":S.asChild,as:S.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[i(l).startEdge.value]:`calc(${m.value}% + ${g.value}px)`,display:!i(v)&&s.value===void 0?"none":void 0},onFocus:f[0]||(f[0]=()=>{i(a).valueIndexToChangeRef.value=S.index})}),{default:V(()=>[F(S.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Mt=kt,It=E({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{getItems:a}=ye(),{forwardRef:l,currentElement:n}=H(),o=h(()=>n.value?a(!0).findIndex(r=>r.ref===n.value):-1);return(r,s)=>(A(),M(Mt,O({ref:i(l)},e,{index:o.value}),{default:V(()=>[F(r.$slots,"default")]),_:3},16,["index"]))}}),we=It,Vt=E({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=U();return H(),(a,l)=>(A(),M(i(J),{"as-child":a.asChild,as:a.as,"data-disabled":i(e).disabled.value?"":void 0,"data-orientation":i(e).orientation.value},{default:V(()=>[F(a.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),Kt=Vt;const Nt={class:"app-slider"},xt={class:"app-slider__label"},Ft={class:"app-slider__range"},Tt={class:"app-slider__range-value"},Ot={class:"app-slider__range-value"},Lt=E({__name:"Slider",props:z({sliderLabel:{},availableMin:{},availableMax:{},rangeStep:{}},{range:{},rangeModifiers:{}}),emits:z(["updateFilters"],["update:range"]),setup(t,{emit:e}){const a=Q(t,"range"),l=e;function n(){l("updateFilters")}return(o,r)=>(A(),I("div",Nt,[C("div",xt,x(o.sliderLabel),1),C("div",Ft,[C("div",null,[r[1]||(r[1]=C("span",{class:"app-slider__range-label"},"от",-1)),C("span",Tt,x(("formatNumber"in o?o.formatNumber:i(ae))(a.value?.[0]??0)),1)]),C("div",null,[r[2]||(r[2]=C("span",{class:"app-slider__range-label"},"до",-1)),C("span",Ot,x(("formatNumber"in o?o.formatNumber:i(ae))(a.value?.[1]??0)),1)])]),B(i(Et),{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=s=>a.value=s),class:"SliderRoot","default-value":a.value,min:o.availableMin,max:o.availableMax,step:o.rangeStep,"min-steps-between-thumbs":2,onPointerup:n,onKeyup:[Z(n,["left"]),Z(n,["down"]),Z(n,["right"]),Z(n,["up"])]},{default:V(()=>[B(i(Kt),{class:"SliderTrack"},{default:V(()=>[B(i(Bt),{class:"SliderRange"})]),_:1}),B(i(we),{class:"SliderThumb"}),B(i(we),{class:"SliderThumb"})]),_:1},8,["modelValue","default-value","min","max","step"])]))}}),jt=Object.assign(j(Lt,[["__scopeId","data-v-b475b10c"]]),{__name:"UiSlider"}),Ht={class:"apartments-filter"},zt={class:"apartments-filter__buttons-block"},Ut=["aria-pressed","aria-label","title","disabled","onClick"],Wt=E({__name:"ApartmentsFilter",props:z({availableApartmentAreaRange:{},availableApartmentPriceRange:{},availableApartmentRoomCountArray:{}},{roomCountArray:{},roomCountArrayModifiers:{},apartmentAreaRange:{},apartmentAreaRangeModifiers:{},apartmentPriceRange:{},apartmentPriceRangeModifiers:{}}),emits:z(["updateFilters","resetFilters"],["update:roomCountArray","update:apartmentAreaRange","update:apartmentPriceRange"]),setup(t,{emit:e}){const a=[{value:1,text:"1к",ariaLabel:"1-комнатная квартира"},{value:2,text:"2к",ariaLabel:"2-комнатная квартира"},{value:3,text:"3к",ariaLabel:"3-комнатная квартира"},{value:4,text:"4к",ariaLabel:"4-комнатная квартира"}],l=Q(t,"roomCountArray"),n=Q(t,"apartmentAreaRange"),o=Q(t,"apartmentPriceRange"),r=e;function s(){r("resetFilters")}function m(p){l.value?.includes(p)?l.value=l.value.filter(d=>d!==p):l.value?.push(p),r("updateFilters")}return(p,d)=>{const b=jt,g=$e;return A(),I("div",Ht,[d[5]||(d[5]=C("h2",{hidden:""},"Фильтр",-1)),C("div",zt,[(A(),I(X,null,ce(a,v=>C("button",{key:v.value,"aria-pressed":l.value?.includes(v.value),"aria-label":v.ariaLabel,title:v.ariaLabel,disabled:!p.availableApartmentRoomCountArray.includes(v.value),class:te(["buttons-block__button",{"buttons-block__button--pressed":l.value?.includes(v.value)}]),type:"button",onClick:S=>m(v.value)},x(v.text),11,Ut)),64))]),B(b,{range:o.value,"onUpdate:range":d[0]||(d[0]=v=>o.value=v),"slider-label":"Стоимость квартиры, ₽","available-min":p.availableApartmentPriceRange?p.availableApartmentPriceRange[0]:0,"available-max":p.availableApartmentPriceRange?p.availableApartmentPriceRange[1]:0,"range-step":1e5,onUpdateFilters:d[1]||(d[1]=()=>r("updateFilters"))},null,8,["range","available-min","available-max"]),B(b,{range:n.value,"onUpdate:range":d[2]||(d[2]=v=>n.value=v),"slider-label":"Площадь, м²","available-min":p.availableApartmentAreaRange?p.availableApartmentAreaRange[0]:0,"available-max":p.availableApartmentAreaRange?p.availableApartmentAreaRange[1]:0,"range-step":1,onUpdateFilters:d[3]||(d[3]=()=>r("updateFilters"))},null,8,["range","available-min","available-max"]),C("button",{class:"buttons-block__reset-button",type:"button",onClick:s},[d[4]||(d[4]=G(" Сбросить параметры ",-1)),B(g,{name:"local-icon:cross-mini",class:"reset-button__icon"})])])}}}),Yt=Object.assign(j(Wt,[["__scopeId","data-v-0b69c2e2"]]),{__name:"ApartmentsFilter"}),Qt=["aria-label","disabled"],Gt={class:"sortable-button__icons-container"},Xt=E({__name:"SortButton",props:{label:{},sortKey:{},currentSortKey:{},currentSortDir:{},disabledButton:{type:Boolean,default:!1}},emits:["updateSort"],setup(t,{emit:e}){const a=t,l=e,n=h(()=>a.currentSortKey===a.sortKey?a.currentSortDir:null),o=h(()=>n.value?n.value==="asc"?"по возрастанию, нажмите для сортировки по убыванию":"по убыванию, нажмите для сброса":"не сортировано, нажмите для сортировки по возрастанию"),r=()=>{l("updateSort",{sortedBy:a.sortKey})};return(s,m)=>{const p=$e;return A(),I("button",{type:"button",class:te(["sortable-button",{"sortable-button--active":s.sortKey===s.currentSortKey}]),"aria-label":`Сортировать по параметру ${s.label}, текущее состояние: (${i(o)})`,disabled:s.disabledButton,onClick:r},[G(x(s.label)+" ",1),C("div",Gt,[B(p,{name:"local-icon:arrow-up-simple",class:te(["sortable-button__icon",{"sortable-button__icon--active":s.sortKey===s.currentSortKey&&i(n)==="asc"}]),"aria-hidden":"true"},null,8,["class"]),B(p,{name:"local-icon:arrow-up-simple",class:te(["sortable-button__icon sortable-button__icon--down",{"sortable-button__icon--active":s.sortKey===s.currentSortKey&&i(n)==="desc"}]),"aria-hidden":"true"},null,8,["class"])])],10,Qt)}}}),Jt=Object.assign(j(Xt,[["__scopeId","data-v-c8c2e99b"]]),{__name:"UiSortButton"}),Zt={class:"apartment-table-header"},ea=E({__name:"ApartmentsTableHeader",props:{sortParams:{},isLoading:{type:Boolean,default:!1}},emits:["update:sort-params"],setup(t,{emit:e}){const a=t,l=e;function n(o){const r={...a.sortParams};o.sortedBy===a.sortParams.sortBy?r.sortDir==="asc"?r.sortDir="desc":r.sortBy=null:(r.sortBy=o.sortedBy,r.sortDir="asc"),l("update:sort-params",r)}return(o,r)=>{const s=Jt;return A(),I("div",Zt,[r[0]||(r[0]=C("div",{class:"apartment-table-header__column-name"},"Планировка",-1)),r[1]||(r[1]=C("div",{class:"apartment-table-header__column-name"},"Квартира",-1)),B(s,{label:"S, м²","sort-key":"area","current-sort-key":o.sortParams.sortBy,"current-sort-dir":o.sortParams.sortDir,"disabled-button":o.isLoading,onUpdateSort:n},null,8,["current-sort-key","current-sort-dir","disabled-button"]),B(s,{label:"Этаж","sort-key":"floor","current-sort-key":o.sortParams.sortBy,"current-sort-dir":o.sortParams.sortDir,"disabled-button":o.isLoading,onUpdateSort:n},null,8,["current-sort-key","current-sort-dir","disabled-button"]),B(s,{label:"Цена, ₽","sort-key":"price","current-sort-key":o.sortParams.sortBy,"current-sort-dir":o.sortParams.sortDir,"disabled-button":o.isLoading,onUpdateSort:n},null,8,["current-sort-key","current-sort-dir","disabled-button"])])}}}),ta=Object.assign(j(ea,[["__scopeId","data-v-bd519d85"]]),{__name:"ApartmentsTableHeader"}),aa={class:"apartment-row__title"},na={class:"apartment-row__area"},ra={class:"apartment-row__floor"},la={class:"apartment-row__price"},oa=E({__name:"ApartmentsTableRow",props:{apartment:{}},setup(t){return(e,a)=>{const l=Fe,n=Qe;return A(),M(n,{class:"apartment-row",to:`/apartments/${e.apartment.id}`},{default:V(()=>[B(l,{src:e.apartment.image,alt:"Планировка квартиры",class:"apartment-row__image"},null,8,["src"]),C("div",aa,x(e.apartment.title),1),C("div",na,[G(x(("formatNumber"in e?e.formatNumber:i(ae))(e.apartment.area))+" ",1),a[0]||(a[0]=C("span",{class:"value-description__param-mobile"},"м²",-1))]),C("div",ra,[G(x(e.apartment.floor)+" ",1),C("span",null,x(" из "+e.apartment.numberOfFloors),1),a[1]||(a[1]=C("span",{class:"value-description__param-mobile"},"этаж",-1))]),C("div",la,[G(x(("formatNumber"in e?e.formatNumber:i(ae))(e.apartment.price))+" ",1),a[2]||(a[2]=C("span",{class:"value-description__param-mobile"},"₽",-1))])]),_:1},8,["to"])}}}),sa=Object.assign(j(oa,[["__scopeId","data-v-df67703b"]]),{__name:"ApartmentsTableRow"}),ia={class:"apartments-table"},ua={key:0,class:"apartment-list"},da={key:1,class:"apartment-list-empty"},pa=["disabled"],ma=E({__name:"ApartmentsTable",props:z({apartments:{},hasMore:{type:Boolean},isLoading:{type:Boolean}},{sortParams:{required:!0},sortParamsModifiers:{}}),emits:z(["load-more"],["update:sortParams"]),setup(t,{emit:e}){const a=Q(t,"sortParams"),l=e;return(n,o)=>{const r=ta,s=sa;return A(),I("div",ia,[B(r,{"sort-params":a.value,"onUpdate:sortParams":o[0]||(o[0]=m=>a.value=m),"is-loading":n.isLoading},null,8,["sort-params","is-loading"]),n.apartments&&n.apartments.length?(A(),I("ul",ua,[(A(!0),I(X,null,ce(n.apartments,m=>(A(),I("li",{key:m.id,class:"apartment-list__item"},[B(s,{apartment:m},null,8,["apartment"])]))),128))])):(A(),I("div",da,"Ничего не найдено")),n.apartments?.length&&n.hasMore?(A(),I("button",{key:2,disabled:n.isLoading,class:"app-button apartments-table__load-more",onClick:o[1]||(o[1]=m=>l("load-more"))}," Загрузить еще ",8,pa)):me("",!0)])}}}),ca=Object.assign(j(ma,[["__scopeId","data-v-f45a30ca"]]),{__name:"ApartmentsTable"});function va(){const t=Ge(),e=Xe(),a={sortBy:null,sortDir:"asc"},l=P([]),n=P(),o=P(),r=P(a);l.value=m(t.query.roomCountArray),n.value=s(t.query.apartmentAreaRange),o.value=s(t.query.apartmentPriceRange),r.value=p(t.query.sortBy,t.query.sortDir);function s(f){if(typeof f=="string"){const _=f.split("-").map(Number);if(_.length===2&&_[0]&&!isNaN(_[0])&&_[1]&&!isNaN(_[1]))return[_[0],_[1]]}}function m(f){if(typeof f=="string"){const _=f.split("-").map(Number);if(_.every(w=>!Number.isNaN(w)))return _}return[]}function p(f,_){return typeof f=="string"&&(f==="area"||f==="floor"||f==="price")&&typeof _=="string"&&(_==="asc"||_==="desc")?{sortBy:f,sortDir:_}:a}const d=P([]),b=P(),g=P();function v(){const f={...t.query},_=l.value;_?.length?f.roomCountArray=_.join("-"):delete f.roomCountArray;const w=n.value,c=b.value;w&&c&&(w[0]!==c[0]||w[1]!==c[1])?f.apartmentAreaRange=`${w[0]}-${w[1]}`:delete f.apartmentAreaRange;const u=o.value,y=g.value;u&&y&&(u[0]!==y[0]||u[1]!==y[1])?f.apartmentPriceRange=`${u[0]}-${u[1]}`:delete f.apartmentPriceRange,r.value.sortBy===null?(delete f.sortBy,delete f.sortDir):(f.sortBy=r.value.sortBy,f.sortDir=r.value.sortDir),e.replace({query:f})}function S(){l.value=[],n.value=b.value,o.value=g.value,r.value=a,e.replace({query:{}})}return{roomCountArray:l,apartmentAreaRange:n,apartmentPriceRange:o,apartmentSortParams:r,availableApartmentAreaRange:b,availableApartmentPriceRange:g,availableApartmentRoomCountArray:d,updateQueryParams:v,resetQueryParams:S}}const fa={class:"apartments-page"},ba={class:"apartments-page__filter-container"},ya={class:"apartments-page__content-container"},ga=E({__name:"index",async setup(t){let e,a;const l=P([]),n=P(1),o=P(!1),r=P(!1),{roomCountArray:s,apartmentAreaRange:m,apartmentPriceRange:p,apartmentSortParams:d,availableApartmentAreaRange:b,availableApartmentPriceRange:g,availableApartmentRoomCountArray:v,updateQueryParams:S,resetQueryParams:f}=va();function _(){n.value=1,S(),y()}function w(){n.value=1,f(),y()}const{data:c,status:u,refresh:y}=([e,a]=Je(async()=>Te(async()=>await he.getApartments({apartmentSortParams:d.value,apartmentFilters:{areaRange:m.value,priceRange:p.value,roomCountArray:s.value||[]},page:n.value}),"$QD8d9NkvSp")),e=await e,a(),e);se(()=>{l.value=c.value?.data||[],o.value=c.value?.hasMore||!1,b.value=c.value?.availableFilters.availableAreaRange,g.value=c.value?.availableFilters.availablePriceRange,v.value=c.value?.availableFilters.availableRoomCountArray||[],m.value=m.value??(c.value?.availableFilters.availableAreaRange?[...c.value.availableFilters.availableAreaRange]:void 0),p.value=p.value??(c.value?.availableFilters.availablePriceRange?[...c.value.availableFilters.availablePriceRange]:void 0)}),se(()=>{r.value=u.value==="pending"});async function $(){if(o.value){r.value=!0;let D;try{D=await he.getApartments({apartmentSortParams:d.value,apartmentFilters:{areaRange:m.value,priceRange:p.value,roomCountArray:s.value||[]},page:++n.value})}catch(k){console.error("Ошибка:",k),n.value--}finally{r.value=!1}D&&(l.value.push(...D.data),o.value=D.hasMore)}}return(D,k)=>{const N=Yt,T=ca;return A(),I("div",fa,[C("div",ba,[B(N,{"apartment-area-range":i(m),"onUpdate:apartmentAreaRange":k[0]||(k[0]=R=>ee(m)?m.value=R:null),"apartment-price-range":i(p),"onUpdate:apartmentPriceRange":k[1]||(k[1]=R=>ee(p)?p.value=R:null),"room-count-array":i(s),"onUpdate:roomCountArray":k[2]||(k[2]=R=>ee(s)?s.value=R:null),"available-apartment-area-range":i(b),"available-apartment-price-range":i(g),"available-apartment-room-count-array":i(v),class:"apartments-filter",onUpdateFilters:_,onResetFilters:w},null,8,["apartment-area-range","apartment-price-range","room-count-array","available-apartment-area-range","available-apartment-price-range","available-apartment-room-count-array"])]),C("div",ya,[k[4]||(k[4]=C("h1",{class:"apartments-page__title"},"Квартиры",-1)),B(T,{"sort-params":i(d),"onUpdate:sortParams":[k[3]||(k[3]=R=>ee(d)?d.value=R:null),_],apartments:i(l),"has-more":i(o),"is-loading":i(r),onLoadMore:$},null,8,["sort-params","apartments","has-more","is-loading"])])])}}}),wa=j(ga,[["__scopeId","data-v-18e71e58"]]);export{wa as default};
